<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>template_pdf</title>
  <link rel="stylesheet" href="draft_css.css" />
</head>
<body>
  <div id="pdf"> 
    <!--<img src= "logoinetum.PNG"/>-->
    <!--Page <span class="page-number">1</span> of <span class="page-count">1</span> -->
    
    <h1>Liste des incidents du véhicule</h1>
    <div>Vehicule description</div>
    <div class="html2pdf__page-break"></div>
    <h2>Table de matière</h2>
    <div class="container">
        <ul>
            <li>Résumé..............3</li>
            <li>Liste des incidents et status des incidents ..............</li>
            <li>Liste détaillé des incidents.................</li>
            <li>Poste de travail : post desc................</li>
        </ul>
    </div>
    <div class="html2pdf__page-break"></div>
            
    <h2>Résumé</h2>
    <p>Ce rapport a pour but d'informer sur la liste des incidents des incidents déclarés sur le véhicule $$ </p>    
    <div class="html2pdf__page-break"></div>
    <title>Liste des incidents</title>
    <h2>Liste des incidents</h2>
    <p> Le tableau ci-dessous montre la liste des incidents pour le véhicule &#60;description du véhicule&#62; : </p>
    <table>
        <tr>
        <th style="width: 33%;">ID</th>
        <th style="width: 33%;">Description de l'incident</th>
        <th style="width: 33%;">État</th>
        </tr>
        <tr>
        <td>1</td>
        <td>Mechanical breakdown</td>
        <td>OPEN</td>
        </tr>
        <tr>
        <td>2</td>
        <td>Road accident</td>
        <td>CLOSE</td>
        </tr>
        <tr>
        <td>3</td>
        <td>Electric problem</td>
        <td>OPEN</td>
        </tr>
    <!-- Ajoutez d'autres lignes ici -->
        </table>
        <div class="html2pdf__page-break"></div>
        <h2>Liste détaillé des incidents</h2>
        <p>Ce chapitre contient la liste des incidents déclarés par poste de travail.</p>

        <h3>Poste de travail &#60;description du poste de travail&#62;</h3>
        <p>Le tableau ci-dessous montre la liste des incidents déclarés sur le poste de travail &#60;description du poste de travail&#62; pour le véhicule &#60;description du véhicule&#62;:</p>
        <table>
        <tr>
        <th style="width: 50%;">ID</th>
        <th style="width: 50%;">OT</th>
        </tr>
        <tr>
        <td>1</td>
        <td>incident1_ordre1</td>
        </tr>
        <tr>
        <td>2</td>
        <td>incident2_ordre2</td>
        </tr>
        <tr>
        <td>3</td>
        <td>incident3_ordre3</td>
        </tr>
        <!-- Ajoutez d'autres lignes ici -->
        </table>
        <br>
  </div>
</body>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
  <script src ="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
  <script>
    var element = document.getElementById("pdf")
    html2pdf(element, {
        margin: 10,
        filename: 'draft_pdf.pdf',
        image: { type: 'jpg', quality: 0.98 },
        html2canvas: { scale: 2, logging:true, dpi:192, letterRendering:true },
        jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait'},

    });
    /*
    const pdfOptions = {
        margin: 10,
        filename: 'my_document.pdf',
        image: { type: 'jpeg', quality: 0.98 },
        html2canvas: { scale: 2 , logging: true, dpi: 192, letterRendering: true},
        jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' },
    };

    html2pdf()
        .from(element)
        .set(pdfOptions)
        .toPdf()
        .get('pdf')
        .then(function(pdf) {
            // Get the total number of pages
            const pageCount = pdf.internal.getNumberOfPages();
            // Update page numbers on each page
            for (i = 1; i <= pageCount; i++) {
                pdf.setPage(i);
                pdf.setFontSize(10);
                pdf.setTextColor(100);

                pdf.text('Page ' + i + ' of ' + totalPages, (pdf.internal.pageSize.getWidth() / 2.3), (pdf.internal.pageSize.getHeight() - 0.8));
            }

    }).save();
    */
  </script>
</html>
